<?xml version="1.0" encoding="UTF-8"?>
<fmiModelDescription
  fmiVersion="2.0"
  modelName="WaferSlipDynamics"
  guid="{8c4e810f-3df3-4a00-8276-176fa3c9f00d}"
  description="Wafer Slip Dynamics FMU Model - Physics-based simulation of wafer slippage on vacuum chuck"
  generationTool="Visual Studio 2022 / Manual C# Implementation"
  generationDateAndTime="2026-01-20T10:00:00Z"
  variableNamingConvention="flat"
  numberOfEventIndicators="0">
  
  <CoSimulation
    modelIdentifier="WaferSlipDynamics"
    needsExecutionTool="true"
    canHandleVariableCommunicationStepSize="true"
    canInterpolateInputs="false"
    maxOutputDerivativeOrder="0"
    canRunAsynchronuously="false"
    canBeInstantiatedOnlyOncePerProcess="false"
    canNotUseMemoryManagementFunctions="true"
    canGetAndSetFMUstate="false"
    canSerializeFMUstate="false"
    providesDirectionalDerivative="false">
  </CoSimulation>
  
  <ModelVariables>
    <!-- INPUTS -->
    <ScalarVariable name="angular_acceleration" valueReference="1" causality="input" variability="continuous">
      <Real start="0.0"/>
    </ScalarVariable>
    
    <ScalarVariable name="vacuum_active" valueReference="2" causality="input" variability="discrete">
      <Boolean start="false"/>
    </ScalarVariable>
    
    <ScalarVariable name="wafer_type" valueReference="3" causality="input" variability="discrete">
      <Integer start="1"/>
    </ScalarVariable>

    <!-- OUTPUTS -->
    <ScalarVariable name="slip_factor" valueReference="4" causality="output" variability="continuous">
      <Real />
    </ScalarVariable>
    
    <ScalarVariable name="max_safe_acceleration" valueReference="5" causality="output" variability="continuous">
      <Real />
    </ScalarVariable>
    
    <ScalarVariable name="is_slipping" valueReference="6" causality="output" variability="discrete">
      <Boolean />
    </ScalarVariable>

    <!-- PARAMETERS -->
    <ScalarVariable name="mu_friction" valueReference="7" causality="parameter" variability="fixed">
      <Real start="0.6"/>
    </ScalarVariable>
    
    <ScalarVariable name="safety_margin" valueReference="8" causality="parameter" variability="fixed">
      <Real start="0.85"/>
    </ScalarVariable>
    
    <ScalarVariable name="nominal_vacuum_pressure" valueReference="9" causality="parameter" variability="tunable">
      <Real start="53000.0"/>
    </ScalarVariable>
  </ModelVariables>
  
  <ModelStructure>
    <Outputs>
      <!-- Dependencies are empty indicating they depend on all inputs or unknown. 
           Indices refer to the 1-based index in the ModelVariables list above. -->
      <Unknown index="4" dependencies="" />
      <Unknown index="5" dependencies="" />
      <Unknown index="6" dependencies="" />
    </Outputs>
  </ModelStructure>
  
</fmiModelDescription>